
useActionState

フォームアクションの結果に基づいてstateを更新するためのフック
・フォームアクションが呼び出されたらstateを更新する

```jsx
 const [state, formAction] = useActionState(action, null);
 ```

 state: 現在値
 formAction: 新しいアクション（例: <form>タグのaction属性として渡され、実際の送信処理を結びつける役割を持つ）。
 action: アクション
 null: 初期のstate

流れ
フォームに入力される。
送信ボタンを押すとaction={formAction}が実行される。
formActionはアクション関数sendActionを呼び出し、フォームデータを渡す。
sendActionでFormDataから値を取得し、RailsのAPIにデータを送信する。
Railsの処理結果がformStateとして保存され、新しい状態がコンポーネントに反映される。

formActionが呼び出される
→ フォームデータを収集し、sendActionに渡す。

sendActionが実行される
→ データを処理し、サーバーに送信。結果を返す。

結果がformStateに保存される
→ フォームの状態が更新される。

```jsx 内部的な処理
function useActionState(action, initialState) {
  const [state, setState] = useState(initialState);

  // formActionを生成
  const formAction = async (formData) => {
    try {
      // アクション関数（例: sendAction）を実行
      const result = await action(state, formData);

      // 結果をstateに反映
      setState(result);
    } catch (error) {
      console.error("アクション実行中にエラーが発生:", error);
    }
  };

  return [state, formAction];
}
 ```